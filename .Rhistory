# read data
NEI <- readRDS("summarySCC_PM25.rds")
View(NEI)
head(NEI)
yearly_ems <- NEI %>%
group_by(year) %>%
summarize(total_ems = sum(Emissions))
with(yearly_ems, plot(type = "l",
main = "Total PM2.5 Emissions from All Sources in the United States",
ylab = "Total PM2.5 Emissions (tons)",
xlab = "Year"))
library(dplyr)
yearly_ems <- NEI %>%
group_by(year) %>%
summarize(total_ems = sum(Emissions))
with(yearly_ems, plot(type = "l",
main = "Total PM2.5 Emissions from All Sources in the United States",
ylab = "Total PM2.5 Emissions (tons)",
xlab = "Year"))
with(yearly_ems, plot(year, total_ems,
type = "l",
main = "Total PM2.5 Emissions from All Sources in the United States",
ylab = "Total PM2.5 Emissions (tons)",
xlab = "Year"))
dev.copy(png,'plot1.png')
dev.off()
SCC <- readRDS("Source_Classification_Code.rds")
yearly_ems_bal <- NEI %>%
filter(fips == "24510") %>%
group_by(year) %>%
summarize(total_ems = sum(Emissions))
with(yearly_ems_bal, plot(year, total_ems,
type = "l",
main = "Total PM2.5 Emissions in Baltimore",
xlab = "Year",
ylab = "Total PM2.5 Emissions (tons)"))
dev.copy(png,'plot2.png')
dev.off()
library(ggplot2)
ems_bal <- NEI %>%
filter(fips == "24510") %>%
group_by(type, year) %>%
summarize(total_ems = sum(Emissions))
ggplot(ems_bal, aes(x = year, y = total_ems))
+ geom_bar()
+ facet_grid(. ~ type)
+ labs(x="Year", y="Total PM2.5 Emissions (tons)")
+ ggtitle("PM2.5 Emissions by Type in Baltimore")
+
# plot data
ggplot(ems_bal, aes(x = year, y = total_ems)) + geom_bar() + facet_grid(. ~ type) + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions by Type in Baltimore")
# plot data
g <- ggplot(ems_bal, aes(x = year, y = total_ems))
g + geom_bar() + facet_grid(. ~ type) + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions by Type in Baltimore")
g + geom_bar(stat="identity") + facet_grid(. ~ type) + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions by Type in Baltimore")
g + geom_line(stat="identity") + facet_grid(. ~ type) + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions by Type in Baltimore")
dev.copy(png,'plot3.png')
dev.off()
View(SCC)
coal_SCCs <- SCC %>%
filter(grepl("coal", EI.Sector, ignore.case = TRUE)) %>%
select(SCC)
yearly_ems_coal <- NEI %>%
filter(SCC %in% coal_SCCs$SCC) %>%
group_by(year) %>%
summarize(total_ems = sum(Emissions))
# plot data
g <- ggplot(yearly_ems_coal, aes(x = year, y = total_ems))
g + geom_line(stat="identity") + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions from Coal")
# save figure
dev.copy(png,'plot4.png')
dev.off()
View(SCC)
summary(SCC$EI.Sector)
ems_vehical_bal <- NEI %>%
filter(type == "ON-ROAD" & fips == "24510") %>%
group_by(year) %>%
summarize(total_ems = sum(Emissions))
# plot data
g <- ggplot(ems_vehical_bal, aes(x = year, y = total_ems))
g + geom_line(stat="identity") + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions from Vehicals in Baltimore")
# save figure
dev.copy(png,'plot5.png')
dev.off()
ems_vehical_balla <- NEI %>%
filter(fips %in% c("06037", "24501") & type == "ON-ROAD") %>%
group_by(year) %>%
summarize(total_ems = sum(Emissions))
View(ems_vehical_balla)
ems_vehical_balla <- NEI %>%
filter(fips %in% c("06037", "24501") & type == "ON-ROAD") %>%
group_by(year, fips) %>%
summarize(total_ems = sum(Emissions))
View(ems_vehical_balla)
ems_vehical_balla <- NEI %>%
filter(fips %in% c("06037", "24510") & type == "ON-ROAD") %>%
group_by(year, fips) %>%
summarize(total_ems = sum(Emissions))
View(ems_vehical_balla)
# plot data
g <- ggplot(ems_vehical_balla, aes(x = year, y = total_ems))
g+ geom_line(color = fips) + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
# plot data
g <- ggplot(ems_vehical_balla, aes(x = year, y = total_ems, color = fips))
g+ geom_line() + labs(x="Year", y="Total PM2.5 Emissions (tons)") + ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
# plot data
g <- ggplot(ems_vehical_balla, aes(x = year, y = total_ems, color = fips))
g + geom_line() +
scale_fill_discrete(name="city",
breaks=c("06037", "24510"),
labels=c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
g + geom_line() +
scale_fill_discrete(name="city", breaks=c("06037", "24510"), labels=c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
g + geom_line() +
scale_fill_discrete(name = "city", labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
# plot data
g <- ggplot(ems_vehical_balla, aes(x = year, y = total_ems, color = fips))
g + geom_line() +
scale_fill_discrete(labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
g + geom_line() +
scale_linetype_discrete(labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
# plot data
g <- ggplot(ems_vehical_balla, aes(x = year, y = total_ems, linetype = fips))
g + geom_line() +
scale_linetype_discrete(labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
g + geom_line() +
scale_linetype_discrete(name = "cities", labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
g + geom_line() +
scale_linetype_discrete(name = "Cities", labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
# save figure
dev.copy(png,'plot6.png')
dev.off()
# plot data
g <- ggplot(ems_vehical_balla, aes(x = year, y = total_ems, linetype = fips, color = fips))
g + geom_line() +
scale_linetype_discrete(name = "Cities", labels = c("Los Angeles", "Baltimore")) +
labs(x="Year", y="Total PM2.5 Emissions (tons)") +
ggtitle("PM2.5 Emissions from Vehicals in Baltimore and LA")
